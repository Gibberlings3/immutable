///////////////////////////////////////////////////////////////////////////////
///  Core function: again must have the same name as this file
///////////////////////////////////////////////////////////////////////////////

DEFINE_ACTION_FUNCTION second_component
   INT_VAR version=0
BEGIN

     //////////////////////////////////////////////////////////////////////////
     // demo the use of the "version" argument
     //
     // in this implementation, each version has its own sub-function. But
     // you don't have to do it that way - perhaps the choice of 'version' just
     // sets a variable in a shared piece of code, for instance.
     //////////////////////////////////////////////////////////////////////////

   ACTION_MATCH "%version%" WITH
   1 BEGIN
      LAF second_component_ilyich_again END
   END
   2 BEGIN
      LAF second_component_check_marker END
   END
   DEFAULT
      FAIL @1
   END





END

///////////////////////////////////////////////////////////////////////////////
// This function defines the first subcomponent
///////////////////////////////////////////////////////////////////////////////

DEFINE_ACTION_FUNCTION second_component_ilyich_again BEGIN

     //////////////////////////////////////////////////////////////////////////
     // re-use a function from the shared list
     //////////////////////////////////////////////////////////////////////////

     LAF make_hostile STR_VAR creature=duecla01 END

     //////////////////////////////////////////////////////////////////////////
     // use a string from the shared tra file
     //////////////////////////////////////////////////////////////////////////

     PRINT @100001


END

///////////////////////////////////////////////////////////////////////////////
// This function defines the second subcomponent
///////////////////////////////////////////////////////////////////////////////

DEFINE_ACTION_FUNCTION second_component_check_marker BEGIN

      LAF check_label STR_VAR label=dw#sample_marker RET value END
      
      ACTION_IF value BEGIN
         PRINT @2
      END ELSE BEGIN
         PRINT @3
      END

END